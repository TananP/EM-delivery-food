<div class="pop-up-content text-center">
    <div class="gold">
        <h5 class="text-115-rem">Address</h5>
    </div>
    <!------------------->
    <!------ Default address ------>
    <div *ngFor="let index of this.addressList">
        <div *ngIf="index.default == true" [class.selected-active]="index === activeIndex" class="row address-box-default mt-3 mb-3">
            <div (click)="selectAddess(index)" class="col-10 text-left">
                <div>
                    <p>Location type : {{index.name}}</p>
                    <!-- <p>Phone number : {{index.telephoneNumber}}</p> -->
                    <p>Address : <br>{{index.detail}}</p>
                </div>
            </div>
            <div class="col-2 pl-0 gold">
                <div class="mb-4 pt-2" (click)="editAddressSelect(index)">
                    <p> Edit </p>
                </div>
                <!-- <div (click)="deleteAddress(index)">
                    <p> Delete </p>
                </div> -->
            </div>
        </div>
    </div>
    <!------------------------>
    <!-------- All Adress ---------->
    <div class="row gold">
        <div class="col-6 text-left">
            <h5 class="text-115-rem"> Other </h5>
        </div>
        <div class="col-6" (click)="addAddressPopUp()">
            <div class="mt-2 add-address-button">
                <p>+ Add address </p>
            </div>
        </div>
    </div>
    <div *ngFor="let index of this.addressList">
        <div *ngIf="index.default == false" [class.selected-active]="index === activeIndex" class="row address-box mt-3 mb-3">
            <div (click)="selectAddess(index)" class="col-9 text-left">
                <div>
                    <p>Location type : {{index.name}}</p>
                    <!-- <p>Phone number : {{index.telephoneNumber}}</p> -->
                    <p>Address : <br>{{index.detail}}</p>
                </div>
                <div class="mt-2 mb-2 gold text-left">
                    <p (click)="deleteAddress(index)" style="display: inline;"> Delete </p>
                </div>
            </div>
            <div class="col-3 pl-0 pr-0 gold">
                <div class="mb-3 mt-2" (click)="setDefaultAddress(index)">
                    <p>Set default</p>
                </div>
                <div class="mb-3 mt-3" (click)="editAddressSelect(index)">
                    <p> Edit </p>
                </div>
            </div>
        </div>
    </div>
    <!--------------------------->
    <!-- Add adress pop-up -->
    <div class="address-pop-up" *ngIf="this.addAddress">
        <div class="address-pop-up-container">
            <div>
                <h5>Name</h5>
                <input #customerName class="form-control" placeholder="Enter your name">
                <p class="verlify-invalid" *ngIf="this.verifyName === false">Invalid name</p>
            </div>
            <!-- <div>
                <h5>Phone number</h5>
                <input #customerPhoneNumber type="number" class="form-control" placeholder="Phone number">
                <p class="verlify-invalid" *ngIf="this.verifyPhoneNumber === false">Invalid phone number</p>
            </div> -->
            <div>
                <h5>Address</h5>
                <textarea row="2" #addNewAddress maxlength="225" class="form-control"></textarea>
                <p class="verlify-invalid" *ngIf="this.verifyAddress === false">Invalid address</p>
            </div>
            <div class="mb-3">
                <h5>Comments</h5>
                <textarea row="2" #addressComments maxlength="225" class="form-control"></textarea>
            </div>
            <!-- Test Google map -->
            <div>
                <h5>Please mark your location</h5>
                <p class="verlify-invalid" *ngIf="this.verifyLatLng === false">Invalid mark location</p>
                <google-map width="100%" height="400px" [center]="{ lat:this.latCenter , lng:this.lngCenter}" 
                (mapClick)="setMarker($event)" [options]="{zoom:17 , gestureHandling: 'greedy'}">
                    <map-marker [position]="{ lat:this.lat , lng:this.lng}"></map-marker>
                </google-map>
            </div>
            <!--------------------->
            <div class="row mt-3">
                <p class="verlify-invalid" *ngIf="this.verifyAll === false">Please inform all information</p>
                <div class="col-6" (click)="verify(customerName.value, addNewAddress.value ,addressComments.value , 'add')"> 
                    <div class="address-pop-up-button"> Add </div>
                </div>
                <div class="col-6" (click)="closePopUp('add')"> 
                    <div class="address-pop-up-button"> Cancel </div>
                </div>
            </div>
        </div>
    </div>
    <!----------------------->

    <!-- Delete confirm pop-up -->
    <div class="address-pop-up" *ngIf="deleteConfirmPopUp">
        <div class="address-pop-up-container">
            <div class="mb-4">
                <p>Delete this address?</p>
            </div>
            <div class="row">
                <div class="col-6">
                    <div class="address-pop-up-button" (click)="deleteConfirmation(true)">
                        <p> Yes </p>
                    </div>
                </div>
                <div class="col-6">
                    <div class="address-pop-up-button" (click)="deleteConfirmation(false)">
                        <p> No </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <!-- Edit adress pop-up -->
        <div class="address-pop-up" *ngIf="this.editAddress">
            <div class="address-pop-up-container">
                <div>
                    <h5>Name</h5>
                    <input #editCustomerName class="form-control" value="{{this.editAddressList.name}}">
                    <p class="verlify-invalid" *ngIf="this.verifyName === false">Invalid name</p>
                </div>
                <!-- <div>
                    <h5>Phone number</h5>
                    <input #editCustomerPhoneNumber type="number" class="form-control" value="{{this.editAddressList.telephoneNumber}}">
                    <p class="verlify-invalid" *ngIf="this.verifyPhoneNumber === false">Invalid phone number</p>
                </div> -->
                <div>
                    <h5>Address</h5>
                    <textarea row="2" #editAddNewAddress class="form-control" maxlength="225" value="{{this.editAddressList.detail}}"></textarea>
                    <p class="verlify-invalid" *ngIf="this.verifyAddress === false">Invalid address</p>
                </div>
                <div class="mb-3">
                    <h5>Comments</h5>
                    <textarea row="2" #editAddressComments class="form-control" maxlength="225" value="{{this.editAddressList.note}}"></textarea>
                </div>
                 <!-- Test Google map -->
                <div>
                    <h5>Please mark your location</h5>
                    <p class="verlify-invalid" *ngIf="this.verifyLatLng === false">Invalid mark location</p>
                    <google-map width="100%" height="400px" [center]="{ lat:this.lat , lng:this.lng}" 
                    (mapClick)="setMarker($event)" [options]="{zoom:17 , gestureHandling: 'greedy'}" >
                        <map-marker [position]="{ lat:this.lat , lng:this.lng}"></map-marker>
                    </google-map>
                </div>
                <!--------------------->
                <div class="row mt-3">
                    <p class="verlify-invalid" *ngIf="this.verifyAll === false">Please inform all information</p>
                    <div class="col-6" (click)="verify(editCustomerName.value, editAddNewAddress.value ,editAddressComments.value , 'edit')"> 
                        <div class="address-pop-up-button"> Edit </div>
                    </div>
                    <div class="col-6" (click)="closePopUp('edit')"> 
                        <div class="address-pop-up-button"> Cancel </div>
                    </div>
                </div>    
            </div>    
        </div>
        <!----------------------->
        <!-- Deliver here button -->
        <div class="text-center deliver-buttton-pos normal-text" (click)="confirmSelectAddess()">
            <div class="deliver-buttton">
                <p>Deliver here</p>
            </div>
        </div>
</div>
<!------ Error pop up  ----------->
<div class="pop-up" *ngIf="this.openErrorPopUp">
    <div class="pop-up-content text-center">
        <div (click)="this.openErrorPopUp = false" class="text-right">
            <p>&#10005;</p>
        </div>
        <div class="pt-3 pb-3"><p>{{this.errorMessage}}</p></div>
        <!-- <div (click)="this.openErrorPopUp = false">
            <div class="gold-button ml-3 mr-3">
                <p>Close</p>
            </div>
        </div> -->
    </div>
</div>
<!-------------------------------------------->